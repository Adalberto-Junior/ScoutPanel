<script context="module">
    export const nameList = [
        {
            name: "Marco António Alves Almeida",
            address: "Morada",
            phoneNumber: "Telemovel/Telefone",
            email: "Endereço de Email",
            birthDate: "Data de nascimento",
            sex: "Masculino/Feminino/Outro",
            bio: "Uma biografia muito longa.",
            image: "https://cdn4.iconfinder.com/data/icons/small-n-flat/24/user-alt-512.png",
        },
        {
            name: "Daniel Alexandre Martins da Silva",
            address: "Morada",
            phoneNumber: "Telemovel/Telefone",
            email: "Endereço de Email",
            birthDate: "Data de nascimento",
            sex: "Masculino/Feminino/Outro",
            bio: "Uma biografia muito longa",
            image: "https://cdn4.iconfinder.com/data/icons/small-n-flat/24/user-alt-512.png",
        },
        {
            name: "Adalberto Júnior Trindade Vaz do Rosário",
            address: "Morada",
            phoneNumber: "Telemovel/Telefone",
            email: "Endereço de Email",
            birthDate: "Data de nascimento",
            sex: "Masculino/Feminino/Outro",
            bio: "Uma biografia muito longa",
            image: "https://cdn4.iconfinder.com/data/icons/small-n-flat/24/user-alt-512.png",
        },
        {
            name: "Maria Julia Nunes",
            address: "Morada",
            phoneNumber: "Telemovel/Telefone",
            email: "Endereço de Email",
            birthDate: "Data de nascimento",
            sex: "Masculino/Feminino/Outro",
            bio: "Uma biografia muito longa.",
            image: "https://cdn4.iconfinder.com/data/icons/small-n-flat/24/user-alt-512.png",
        },
        {
            name: "João Vitor da Rosa",
            address: "Morada",
            phoneNumber: "Telemovel/Telefone",
            email: "Endereço de Email",
            birthDate: "Data de nascimento",
            sex: "Masculino/Feminino/Outro",
            bio: "Uma biografia muito longa.",
            image: "https://cdn4.iconfinder.com/data/icons/small-n-flat/24/user-alt-512.png",
        },
        {
            name: "Ana Lídia da Mota",
            address: "Morada",
            phoneNumber: "Telemovel/Telefone",
            email: "Endereço de Email",
            birthDate: "Data de nascimento",
            sex: "Masculino/Feminino/Outro",
            bio: "Uma biografia muito longa.",
            image: "https://cdn4.iconfinder.com/data/icons/small-n-flat/24/user-alt-512.png",
        },
        {
            name: "João Guilherme da Paz",
            address: "Morada",
            phoneNumber: "Telemovel/Telefone",
            email: "Endereço de Email",
            birthDate: "Data de nascimento",
            sex: "Masculino/Feminino/Outro",
            bio: "Uma biografia muito longa.",
            image: "https://cdn4.iconfinder.com/data/icons/small-n-flat/24/user-alt-512.png",
        },
        {
            name: "Luis Gustavo Azevedo",
            address: "Morada",
            phoneNumber: "Telemovel/Telefone",
            email: "Endereço de Email",
            birthDate: "Data de nascimento",
            sex: "Masculino/Feminino/Outro",
            bio: "Uma biografia muito longa.",
            image: "https://cdn4.iconfinder.com/data/icons/small-n-flat/24/user-alt-512.png",
        },
        {
            name: "Gustavo Henrique Teixeira",
            address: "Morada",
            phoneNumber: "Telemovel/Telefone",
            email: "Endereço de Email",
            birthDate: "Data de nascimento",
            sex: "Masculino/Feminino/Outro",
            bio: "Uma biografia muito longa.",
            image: "https://cdn4.iconfinder.com/data/icons/small-n-flat/24/user-alt-512.png",
        },
        {
            name: "Maria Clara Barros",
            address: "Morada",
            phoneNumber: "Telemovel/Telefone",
            email: "Endereço de Email",
            birthDate: "Data de nascimento",
            sex: "Masculino/Feminino/Outro",
            bio: "Uma biografia muito longa.",
            image: "https://cdn4.iconfinder.com/data/icons/small-n-flat/24/user-alt-512.png",
        },
        {
            name: "Pedro Lucas da Rosa",
            address: "Morada",
            phoneNumber: "Telemovel/Telefone",
            email: "Endereço de Email",
            birthDate: "Data de nascimento",
            sex: "Masculino/Feminino/Outro",
            bio: "Uma biografia muito longa.",
            image: "https://cdn4.iconfinder.com/data/icons/small-n-flat/24/user-alt-512.png",
        },
        {
            name: "João Miguel da Rocha",
            address: "Morada",
            phoneNumber: "Telemovel/Telefone",
            email: "Endereço de Email",
            birthDate: "Data de nascimento",
            sex: "Masculino/Feminino/Outro",
            bio: "Uma biografia muito longa.",
            image: "https://cdn4.iconfinder.com/data/icons/small-n-flat/24/user-alt-512.png",
        },
        {
            name: "Vitor Gabriel Nascimento",
            address: "Morada",
            phoneNumber: "Telemovel/Telefone",
            email: "Endereço de Email",
            birthDate: "Data de nascimento",
            sex: "Masculino/Feminino/Outro",
            bio: "Uma biografia muito longa.",
            image: "https://cdn4.iconfinder.com/data/icons/small-n-flat/24/user-alt-512.png",
        },
        {
            name: "Ana Laura Barros",
            address: "Morada",
            phoneNumber: "Telemovel/Telefone",
            email: "Endereço de Email",
            birthDate: "Data de nascimento",
            sex: "Masculino/Feminino/Outro",
            bio: "Uma biografia muito longa.",
            image: "https://cdn4.iconfinder.com/data/icons/small-n-flat/24/user-alt-512.png",
        },
        {
            name: "Alexandre Tomás Rodrigues",
            address: "Morada",
            phoneNumber: "Telemovel/Telefone",
            email: "Endereço de Email",
            birthDate: "Data de nascimento",
            sex: "Masculino/Feminino/Outro",
            bio: "Uma biografia muito longa.",
            image: "https://cdn4.iconfinder.com/data/icons/small-n-flat/24/user-alt-512.png",
        },
        {
            name: "Bernardo Gonçalves",
            address: "Morada",
            phoneNumber: "Telemovel/Telefone",
            email: "Endereço de Email",
            birthDate: "Data de nascimento",
            sex: "Masculino/Feminino/Outro",
            bio: "Uma biografia muito longa.",
            image: "https://cdn4.iconfinder.com/data/icons/small-n-flat/24/user-alt-512.png",
        },
        {
            name: "Diogo Branco Silva",
            address: "Morada",
            phoneNumber: "Telemovel/Telefone",
            email: "Endereço de Email",
            birthDate: "Data de nascimento",
            sex: "Masculino/Feminino/Outro",
            bio: "Uma biografia muito longa.",
            image: "https://cdn4.iconfinder.com/data/icons/small-n-flat/24/user-alt-512.png",
        },
        {
            name: "Bruno Ferreira Gomes",
            address: "Morada",
            phoneNumber: "Telemovel/Telefone",
            email: "Endereço de Email",
            birthDate: "Data de nascimento",
            sex: "Masculino/Feminino/Outro",
            bio: "Uma biografia muito longa.",
            image: "https://cdn4.iconfinder.com/data/icons/small-n-flat/24/user-alt-512.png",
        },
    ];
</script>

<script>
    import NestedAccordion from "./NestedAccordion.svelte";
    import SearchBar from "./SearchBar.svelte";

    let filteredNames = nameList;

    function handleSearch(value) {
        let searchTerm = value.trim().toLowerCase();
        filteredNames = nameList.filter(({ name }) =>
            name
                .normalize("NFD")
                .replace(/[\u0300-\u036f]/g, "")
                .toLowerCase()
                .includes(searchTerm)
        );
    }
</script>

<main>
    <div class="shadow-none p-3 m-3 bg-light rounded">
        <h2 align="center">Lista de Membros</h2>
        <SearchBar onSearch={handleSearch} />
        <div class="faq-list">
            {#each filteredNames as person, index}
                <div class="m-1">
                    <NestedAccordion {index} {person} />
                </div>
            {/each}
        </div>
    </div>
</main>
